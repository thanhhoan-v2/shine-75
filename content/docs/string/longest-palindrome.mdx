---
title: Longest Palindrome
description: Given a string s which consists of lowercase or uppercase letters, return the length of the longest palindrome that can be built with those letters.
difficulty: Easy
timeLimit: 20 mins
week: 1
tags:
  - String
  - Hash Table
  - Greedy
---

```js title="Example"
Input: s = "abccccdd"
Output: 7
Explanation: One longest palindrome that can be built is "dccaccd", whose length is 7.

Input: s = "a"
Output: 1
```

## Approach

1. **Character Count**: Count the frequency of each character in the string.
2. **Even Pairs**: For each character, we can use pairs (even count) to build the palindrome.
3. **Odd Character**: We can use one odd character in the center of the palindrome.
4. **Implementation**: Count all characters, sum up all even counts, and add 1 if there's any odd count.

## Solution

- Time Complexity: `O(n)`
  > Where n is the length of the string. We need to traverse the string once to count characters.
- Space Complexity: `O(1)`
  > We use a fixed-size array to store character counts (52 for lowercase and uppercase letters).

```js tab="JavaScript"
/**
 * @param {string} s
 * @return {number}
 */
var longestPalindrome = function(s) {
    const charCount = new Array(128).fill(0);
    
    // Count frequency of each character
    for (let char of s) {
        charCount[char.charCodeAt(0)]++;
    }
    
    let length = 0;
    let hasOdd = false;
    
    // Calculate palindrome length
    for (let count of charCount) {
        if (count > 0) {
            // Add even pairs
            length += Math.floor(count / 2) * 2;
            
            // Check if there's an odd character
            if (count % 2 === 1) {
                hasOdd = true;
            }
        }
    }
    
    // Add 1 for the center character if there's any odd count
    if (hasOdd) {
        length += 1;
    }
    
    return length;
};
```

```java tab="Java"
class Solution {
    public int longestPalindrome(String s) {
        int[] charCount = new int[128];
        
        // Count frequency of each character
        for (char c : s.toCharArray()) {
            charCount[c]++;
        }
        
        int length = 0;
        boolean hasOdd = false;
        
        // Calculate palindrome length
        for (int count : charCount) {
            if (count > 0) {
                // Add even pairs
                length += (count / 2) * 2;
                
                // Check if there's an odd character
                if (count % 2 == 1) {
                    hasOdd = true;
                }
            }
        }
        
        // Add 1 for the center character if there's any odd count
        if (hasOdd) {
            length += 1;
        }
        
        return length;
    }
}
```
